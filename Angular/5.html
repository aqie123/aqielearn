<!DOCTYPE html>
<html ng-app="app">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>5Services应用</title>
	<link rel="stylesheet" type="text/css" href="../public/css/bootstrap.min.css">
	<script src="angular.min.js"></script>

</head>
<body>
	<div ng-controller="FCtrl">
		<input type="" name="" ng-model="data.msg">
		<h1 ng-bind="data.msg"></h1>
		
	</div>
	<div ng-controller="SCtrl">
		<input type="" name="" ng-model="data.msg">
		<h1 ng-bind="data.msg"></h1>
	</div>
	
	<!-- 地址管理 -->
	<div ng-controller="AddressCtrl">
		<div>地址管理</div>
		<ul class="list-group">
			<li class="list-group-item" ng-repeat="a in list" ng-class="{'list-group-item-danger':$first}">
				<h4>{{$index+1+'.'+a.address+$first+$last}}</h4>
			</li>
		</ul>
	</div>
	<!-- 表单管理 -->
<div ng-controller="UserCtrl">
	<form action="" name="f" class="" ng-submit="register(user)">
		<fieldset>
			<legend>基本信息</legend>
			<div>
				<span class=" glyphicon glyphicon-earphone"></span>
				<img alt="icon" ng-src="{{user.icon}}" ng-class="{'thumbnail':user.showicon}" ng-show="user.showImg">
				<input type="" name="" placeholder="用户名" required="required" ng-model='user.uname'>
				<input type="password" name="" placeholder="密码">
				职位：<select name="" id="" ng-disabled="0">
						<option value="">--请选择--</option>
						<option value="" ng-selected="user.zw='1'">JAva工程师</option>
						<option value="" ng-selected="user.zw='2'">.net工程师</option>
				    </select>
				 性别：
				 	<input type="radio" name="sex" ng-checked="user.sex=='1'">　男 <input type="radio" name="sex" ng-checked="user.sex=='0'">  女
		</fieldset>
		<fieldset>
			<legend>爱好</legend>
			<input type="checkbox" name="" ng-checked="isChecked(1)">篮球
			<input type="checkbox" name="" ng-checked="isChecked(2)">足球
			<input type="checkbox" name="" ng-checked="isChecked(3)">排球

		</fieldset>
		<button type="submit" class="btn btn-info" ng-disabled="f.$invalid">提交</button>
	</form>
</div>


	<script src="../public/js/jquery-3.1.1.min.js"></script>
	<script src="../public/js/bootstrap.min.js"></script>
	<script type="text/javascript">
		angular.module("app",[])    //不能加分号

		//在多个controller中间传参
		.factory('Data',function(){  
			return {
				msg:'我来自factory'   //不能加分好
			}
		})
		.controller("FCtrl",function($scope,Data){ 
			$scope.data=Data;
		})
		.controller("SCtrl",function($scope,Data){
			$scope.data=Data;
		})
		.controller("AddressCtrl",function($scope){
			$scope.list=[
				{id:1,address:'莲花小区14栋1层'},
				{id:2,address:'建设小区14栋4层'},
				{id:3,address:'新华小区24栋6层'},
				{id:4,address:'中心街小区53栋6层'}
			];
		})
		.controller("UserCtrl",function($scope,Data){
			$scope.user={
				isShowImg:true,
				showicon:true,
				icon:'../bootstrap/picture/a.png',
				uname:'',
				pwd:'',
				zw:'1',
				sex:'1',
				aihao:'[2]'
			};       //新建对象
			$scope.isChecked=function(n){
				var isok = false;
				for(var i=0;i<$scope.user.aihao.length;i++){
					if(n==$scope.user.aihao[i]){
						isok=true;
						break;
					}
				}
				return isok;
			};
			$scope.register=function(u){
				console.log(u)
			}
		})
	</script>	
</body>
</html>